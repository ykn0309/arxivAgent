# arxivAgent 配置说明

## 系统配置详解

### LLM配置

#### 支持的模型
- OpenAI系列: gpt-3.5-turbo, gpt-4, gpt-4-turbo, gpt-4o 等
- Anthropic Claude: claude-3-haiku, claude-3-sonnet, claude-3-opus 等
- 国产大模型: qwen-max, qwen-plus, glm-4, chatglm_turbo 等
- 兼容OpenAI API的第三方服务（如Azure OpenAI、DeepSeek等）

#### 配置参数说明
- **API基础URL**: LLM服务的API端点地址
- **API密钥**: 访问LLM服务所需的认证密钥
- **模型**: 要使用的具体模型名称（手动输入，支持各种兼容OpenAI API的模型）

#### 示例配置
```json
{
  "base_url": "https://api.openai.com/v1",
  "api_key": "sk-your-api-key-here",
  "model": "gpt-3.5-turbo"
}
```

### 用户兴趣配置

#### 兴趣描述建议
- 详细描述您的研究领域和技术方向
- 包含具体的技术关键词
- 说明关注的应用场景
- 可以提及偏好的研究方法

#### 示例兴趣描述
```
我主要从事机器学习和自然语言处理方面的研究，特别关注：
- 大语言模型的训练和优化
- 对话系统和聊天机器人技术
- 文本生成和摘要技术
- 知识图谱和信息抽取
- 在医疗健康领域的NLP应用
```

### arXiv分类配置

#### CS分区说明
系统支持arXiv计算机科学分类下的所有子分区：

**核心AI相关**：
- cs.AI (人工智能)
- cs.LG (机器学习)
- cs.CL (计算与语言/NLP)
- cs.CV (计算机视觉)
- cs.MA (多智能体系统)
- cs.NE (神经与进化计算)

**系统与理论**：
- cs.AR (硬件体系结构)
- cs.CC (计算复杂性理论)
- cs.DS (数据结构与算法)
- cs.OS (操作系统)
- cs.PL (程序设计语言)

**应用领域**：
- cs.DB (数据库)
- cs.IR (信息检索)
- cs.MM (多媒体)
- cs.RO (机器人学)
- cs.SE (软件工程)
- cs.SI (社会与信息网络)

### 推荐算法配置

#### 时间窗口管理
- **初次使用**: 爬取最近7天的论文（不含当天）
- **后续使用**: 从上次爬取日期的后一天开始，到前一天结束
- **目的**: 确保每次只爬取完整一天的数据

#### 推荐逻辑
1. **双重评估机制**：
   - 用户初始兴趣点
   - 基于收藏的用户兴趣总结
   
2. **增量处理**：
   - 每次只评估一篇论文
   - 已评估论文不再重复处理
   - 收藏总结采用手动触发的增量更新

3. **状态跟踪**：
   - 论文是否已LLM评估
   - 是否被推荐给用户
   - 用户的最终反馈

### 数据库维护

#### 自动清理策略
- 默认保留30天内的论文数据
- 收藏和稍后再说的论文永久保留
- 可通过设置页面手动触发清理

#### 性能优化建议
- 定期清理旧数据保持数据库性能
- 合理设置爬取频率避免API限制
- 监控LLM调用次数控制成本

## 高级配置

### 环境变量配置
```bash
export SECRET_KEY="your-secret-key"
export FLASK_ENV="production"
```

### 自定义爬取参数
在`config.py`中可以调整：
- 默认关注分类
- 时间窗口大小
- 最大爬取结果数

### 日志配置
```python
# 在app.py中启用详细日志
import logging
logging.basicConfig(level=logging.INFO)
```

## 故障排除

### 常见配置问题

1. **LLM连接失败**
   - 检查网络连接
   - 验证API密钥有效性
   - 确认模型名称正确

2. **爬取数据为空**
   - 检查关注分类设置
   - 验证时间窗口合理性
   - 确认arXiv API可用性

3. **推荐质量不佳**
   - 重新精炼兴趣描述
   - 调整关注的分类范围
   - 增加收藏论文数量改善总结

### 性能调优

1. **数据库优化**
   - 定期执行VACUUM操作
   - 合理设置索引
   - 监控查询性能

2. **API调用优化**
   - 控制并发请求数
   - 实现合理的重试机制
   - 设置适当的超时时间

3. **内存管理**
   - 及时释放大对象引用
   - 合理设置批量处理大小
   - 监控内存使用情况